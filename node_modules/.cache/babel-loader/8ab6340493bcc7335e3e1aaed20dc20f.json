{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\99489\\\\Desktop\\\\COMP9323\\\\aws\\\\amplifyapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\99489\\\\Desktop\\\\COMP9323\\\\aws\\\\amplifyapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\99489\\\\Desktop\\\\COMP9323\\\\aws\\\\amplifyapp\\\\src\\\\page\\\\StudentProfile.jsx\";\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, catch: function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\n/* eslint-disable no-template-curly-in-string */\n\n/* eslint-disable no-unused-vars */\nimport * as React from 'react';\nimport Container from '@mui/material/Container';\nimport Typography from '@mui/material/Typography';\nimport Grid from '@mui/material/Grid';\nimport { useNavigate } from 'react-router-dom';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport StudentHeader from '../component/StudentHeader';\nimport { apiCall } from '../Main';\nimport ErrorSnackbar from '../component/ErrorSnackBar';\nimport SuccessSnackbar from '../component/SuccessSnackBar';\nimport KeyboardReturnOutlinedIcon from '@mui/icons-material/ArrowCircleLeft';\nimport { styled } from '@mui/material/styles';\nimport LanguageChoice from '../component/LanguageChoice';\nimport ImageButton from '../component/ImageButton'; // style for button color\n\nvar ColorButton = styled(Button)(function (_ref) {\n  var theme = _ref.theme;\n  return {\n    color: theme.palette.getContrastText('#000000'),\n    backgroundColor: '#000000',\n    '&:hover': {\n      backgroundColor: '#000000'\n    }\n  };\n});\nexport default function StudentProfile() {\n  var navigate = useNavigate();\n\n  var _React$useState = React.useState('AA BB'),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      name = _React$useState2[0],\n      setName = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      email = _React$useState4[0],\n      setEmail = _React$useState4[1];\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      biography = _React$useState6[0],\n      setBiography = _React$useState6[1];\n\n  var _React$useState7 = React.useState([]),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      interestedCategoryIds = _React$useState8[0],\n      setInterestCategoryIds = _React$useState8[1];\n\n  var _React$useState9 = React.useState([]),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      languageIds = _React$useState10[0],\n      setLanguageIds = _React$useState10[1];\n\n  var _React$useState11 = React.useState(''),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      profileImageSrc = _React$useState12[0],\n      setProfileImageSrc = _React$useState12[1];\n\n  var _React$useState13 = React.useState(''),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      newpassword = _React$useState14[0],\n      setNewPassword = _React$useState14[1];\n\n  var _React$useState15 = React.useState(''),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      confirm_password = _React$useState16[0],\n      setConfirmPassword = _React$useState16[1];\n\n  var _React$useState17 = React.useState(false),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      open = _React$useState18[0],\n      setOpen = _React$useState18[1];\n\n  var _React$useState19 = React.useState(''),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      errorMessage = _React$useState20[0],\n      setErrorMessage = _React$useState20[1];\n\n  var _React$useState21 = React.useState(false),\n      _React$useState22 = _slicedToArray(_React$useState21, 2),\n      open2 = _React$useState22[0],\n      setOpen2 = _React$useState22[1];\n\n  React.useEffect(function () {\n    getUserInfo();\n  }, []); // change the language dictionary list in to a list\n  // containly only the language is.\n\n  function getId(languageIds) {\n    var ids = [];\n    languageIds.map(function (languageId) {\n      ids.push(languageId.id);\n    });\n    return ids;\n  } // Get the current user information.\n\n\n  var getUserInfo = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var id, data, ids;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              id = localStorage.getItem('id');\n              _context.next = 3;\n              return apiCall(\"/user_profile/\".concat(id), 'GET', {}, navigate);\n\n            case 3:\n              data = _context.sent;\n              console.log(\"user:\", data);\n\n              if (typeof data === 'string' && (!data.startsWith('200') || !data.startsWith('201'))) {\n                setErrorMessage(data.slice(3));\n                setOpen(true);\n              } else {\n                setName(data.user.username);\n                setEmail(data.user.email);\n                setBiography(data.user.biography);\n                ids = getId(data.user.languages);\n                setLanguageIds(ids);\n                setInterestCategoryIds(data.user.interested_categories);\n                setProfileImageSrc(data.user.profile_image_src);\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getUserInfo() {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // Change the password for current user and the new password\n  //  and the confirmed password should be same.\n\n\n  var changePassword = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var id, user, data;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              id = localStorage.getItem('id');\n\n              if (!(newpassword === '' || confirm_password === ' ')) {\n                _context2.next = 8;\n                break;\n              }\n\n              setErrorMessage('Password should not be none');\n              setOpen(true);\n              setNewPassword('');\n              setConfirmPassword('');\n              _context2.next = 20;\n              break;\n\n            case 8:\n              if (!(newpassword !== confirm_password)) {\n                _context2.next = 15;\n                break;\n              }\n\n              setErrorMessage('The two passwords are not the same');\n              setOpen(true);\n              setNewPassword('');\n              setConfirmPassword('');\n              _context2.next = 20;\n              break;\n\n            case 15:\n              user = {\n                new_password: confirm_password,\n                user_id: id\n              };\n              _context2.next = 18;\n              return apiCall('update_password', 'PUT', user, navigate);\n\n            case 18:\n              data = _context2.sent;\n\n              if (typeof data === 'string' && (!data.startsWith('200') || !data.startsWith('201'))) {\n                setErrorMessage(data.slice(3));\n                setOpen(true);\n                setNewPassword('');\n                setConfirmPassword('');\n              } else {\n                setOpen2(true);\n                setNewPassword('');\n                setConfirmPassword('');\n                navigate('/student_profile');\n              }\n\n            case 20:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function changePassword() {\n      return _ref3.apply(this, arguments);\n    };\n  }(); // When update the profile, the name, password value format will be checked.\n\n\n  var update = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var nameReg, user, data;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              // eslint-disable-next-line prefer-regex-literals\n              nameReg = new RegExp(/^[0-9A-Za-z]+ [0-9A-Za-z]+/);\n\n              if (!(name.length <= 3)) {\n                _context3.next = 7;\n                break;\n              }\n\n              setErrorMessage('Your name should have at least 3 characters');\n              setOpen(true);\n              getUserInfo();\n              _context3.next = 18;\n              break;\n\n            case 7:\n              if (nameReg.test(name)) {\n                _context3.next = 13;\n                break;\n              }\n\n              setErrorMessage('The format of your name should be: \"Firstname LastName\"');\n              setOpen(true);\n              getUserInfo();\n              _context3.next = 18;\n              break;\n\n            case 13:\n              user = {\n                biography: biography,\n                interested_category_ids: interestedCategoryIds,\n                profile_image_src: profileImageSrc,\n                username: name,\n                language_ids: languageIds\n              };\n              _context3.next = 16;\n              return apiCall('user_profile', 'PUT', user, navigate);\n\n            case 16:\n              data = _context3.sent;\n\n              if (typeof data === 'string' && (!data.startsWith('200') || !data.startsWith('201'))) {\n                setErrorMessage(data.slice(3, data.length));\n                setOpen(true);\n              } else {\n                setOpen2(true);\n                navigate('/student_profile');\n              }\n\n            case 18:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function update() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundSize: '100% 100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(StudentHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ErrorSnackbar, {\n    open: open,\n    setOpen: setOpen,\n    message: errorMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SuccessSnackbar, {\n    open: open2,\n    setOpen: setOpen2,\n    message: 'You have successfully update your profile',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    disableGutters: true,\n    maxWidth: \"lg\",\n    component: \"main\",\n    sx: {\n      pt: 8,\n      pb: 6\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      width: '100%',\n      backgroundColor: '#ffffff',\n      borderRadius: '10px',\n      borderTop: '1px solid rgba(255, 255, 255, 0.15)',\n      backdropFilter: 'blur(30px)',\n      boxShadow: '0 15px 25px rgba(0,0,0,0.1)',\n      marginBottom: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      margin: 'auto',\n      flex: 2,\n      paddingTop: '40px',\n      paddingBottom: '40px',\n      borderRight: '1.5px solid rgb(230, 230, 230)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      width: '35%',\n      marginBottom: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ImageButton, {\n    profileImageSrc: profileImageSrc,\n    setProfileImageSrc: setProfileImageSrc,\n    name: name,\n    update: update,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    component: \"form\",\n    noValidate: true,\n    sx: {\n      mt: 2,\n      width: '60%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginRight: '5%',\n      paddingRight: '5%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      width: '100%',\n      display: 'flex',\n      alignItems: 'flex-end',\n      marginBottom: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 23\n    }\n  }, \"Name:\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Enter Name Here\",\n    fullWidth: true,\n    variant: \"standard\",\n    size: \"medium\",\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    value: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 23\n    }\n  })))), /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      display: 'flex',\n      alignItems: 'flex-end',\n      marginBottom: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 23\n    }\n  }, \"Email:\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h6\",\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 23\n    }\n  }, email)))), /*#__PURE__*/React.createElement(LanguageChoice, {\n    languageIds: languageIds,\n    setLanguageIds: setLanguageIds,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ColorButton, {\n    fullWidth: true,\n    id: \"submit_Login\",\n    variant: \"contained\",\n    sx: {\n      mt: 3,\n      mb: 2,\n      color: 'white'\n    },\n    onClick: update,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 17\n    }\n  }, \"UPDATE\")))), /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      paddingLeft: '40px',\n      paddingRight: '40px',\n      paddingTop: '80px',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      verticalAlign: 'middle',\n      flex: 1,\n      backgroundColor: 'rgb(240,240,240)',\n      borderRadius: '0px 10px 10px 0px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }\n  }, \"Change Password\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      alignItems: 'center',\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    component: \"form\",\n    noValidate: true,\n    sx: {\n      mt: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    margin: \"normal\",\n    fullWidth: true,\n    id: \"newPassword\",\n    label: \"new password\",\n    name: \"new password\",\n    autoComplete: \"new password\",\n    value: newpassword,\n    onChange: function onChange(e) {\n      return setNewPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    margin: \"normal\",\n    fullWidth: true,\n    id: \"newPasswordConfirm\",\n    label: \"re-enter new password\",\n    name: \"re-enter new password\",\n    autoComplete: \"new password\",\n    value: confirm_password,\n    onChange: function onChange(e) {\n      return setConfirmPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ColorButton, {\n    fullWidth: true,\n    id: \"submit_Login\",\n    variant: \"contained\",\n    sx: {\n      mt: 3,\n      mb: 2,\n      color: 'white'\n    },\n    onClick: changePassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 17\n    }\n  }, \"CONFIRM\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      alignItems: 'flex-end',\n      marginTop: '40px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"large\",\n    sx: {\n      backgroundColor: '#000000',\n      color: 'white'\n    },\n    onClick: function onClick(event) {\n      navigate('/student_main');\n    },\n    endIcon: /*#__PURE__*/React.createElement(KeyboardReturnOutlinedIcon, {\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 144\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 11\n    }\n  }, \"Return\"))));\n}","map":{"version":3,"names":["React","Container","Typography","Grid","useNavigate","Box","TextField","Button","StudentHeader","apiCall","ErrorSnackbar","SuccessSnackbar","KeyboardReturnOutlinedIcon","styled","LanguageChoice","ImageButton","ColorButton","theme","color","palette","getContrastText","backgroundColor","StudentProfile","navigate","useState","name","setName","email","setEmail","biography","setBiography","interestedCategoryIds","setInterestCategoryIds","languageIds","setLanguageIds","profileImageSrc","setProfileImageSrc","newpassword","setNewPassword","confirm_password","setConfirmPassword","open","setOpen","errorMessage","setErrorMessage","open2","setOpen2","useEffect","getUserInfo","getId","ids","map","languageId","push","id","localStorage","getItem","data","console","log","startsWith","slice","user","username","languages","interested_categories","profile_image_src","changePassword","new_password","user_id","update","nameReg","RegExp","length","test","interested_category_ids","language_ids","backgroundSize","pt","pb","display","width","borderRadius","borderTop","backdropFilter","boxShadow","marginBottom","flexDirection","alignItems","margin","flex","paddingTop","paddingBottom","borderRight","mt","marginRight","paddingRight","e","target","value","mb","paddingLeft","verticalAlign","justifyContent","marginTop","event"],"sources":["C:/Users/99489/Desktop/COMP9323/aws/amplifyapp/src/page/StudentProfile.jsx"],"sourcesContent":["/* eslint-disable no-template-curly-in-string */\r\n/* eslint-disable no-unused-vars */\r\nimport * as React from 'react';\r\nimport Container from '@mui/material/Container';\r\nimport Typography from '@mui/material/Typography';\r\nimport Grid from '@mui/material/Grid';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport Button from '@mui/material/Button';\r\nimport StudentHeader from '../component/StudentHeader';\r\nimport { apiCall } from '../Main';\r\nimport ErrorSnackbar from '../component/ErrorSnackBar';\r\nimport SuccessSnackbar from '../component/SuccessSnackBar';\r\nimport KeyboardReturnOutlinedIcon from '@mui/icons-material/ArrowCircleLeft';\r\nimport { styled } from '@mui/material/styles';\r\nimport LanguageChoice from '../component/LanguageChoice';\r\nimport ImageButton from '../component/ImageButton';\r\n\r\n// style for button color\r\nconst ColorButton = styled(Button)(({ theme }) => ({\r\n  color: theme.palette.getContrastText('#000000'),\r\n  backgroundColor: '#000000',\r\n  '&:hover': {\r\n    backgroundColor: '#000000',\r\n  },\r\n}));\r\n\r\nexport default function StudentProfile() {\r\n  const navigate = useNavigate();\r\n\r\n  const [name, setName] = React.useState('AA BB');\r\n  const [email, setEmail] = React.useState('');\r\n  const [biography, setBiography] = React.useState('');\r\n  const [interestedCategoryIds, setInterestCategoryIds] = React.useState([]);\r\n  const [languageIds, setLanguageIds] = React.useState([]);\r\n  const [profileImageSrc, setProfileImageSrc] = React.useState('');\r\n  const [newpassword, setNewPassword] = React.useState('');\r\n  const [confirm_password, setConfirmPassword] = React.useState('');\r\n  const [open, setOpen] = React.useState(false);\r\n  const [errorMessage, setErrorMessage] = React.useState('');\r\n  const [open2, setOpen2] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    getUserInfo();\r\n  }, []);\r\n\r\n  // change the language dictionary list in to a list\r\n  // containly only the language is.\r\n  function getId(languageIds) {\r\n    let ids = []\r\n    languageIds.map((languageId) => {\r\n      ids.push(languageId.id);\r\n    })\r\n    return ids;\r\n  }\r\n\r\n  // Get the current user information.\r\n  const getUserInfo = async () => {\r\n    const id = localStorage.getItem('id');\r\n    const data = await apiCall(`/user_profile/${id}`, 'GET', {}, navigate);\r\n    console.log(\"user:\", data);\r\n    if (typeof (data) === 'string' && (!data.startsWith('200') || !data.startsWith('201'))) {\r\n      setErrorMessage(data.slice(3,));\r\n      setOpen(true);\r\n    } else {\r\n      setName(data.user.username);\r\n      setEmail(data.user.email);\r\n      setBiography(data.user.biography);\r\n      const ids = getId(data.user.languages)\r\n      setLanguageIds(ids);\r\n      setInterestCategoryIds(data.user.interested_categories);\r\n      setProfileImageSrc(data.user.profile_image_src);\r\n    }\r\n  }\r\n\r\n  // Change the password for current user and the new password\r\n  //  and the confirmed password should be same.\r\n  const changePassword = async () => {\r\n    const id = localStorage.getItem('id');\r\n    if (newpassword === '' || confirm_password === ' ') {\r\n      setErrorMessage('Password should not be none');\r\n      setOpen(true);\r\n      setNewPassword('');\r\n      setConfirmPassword('');\r\n    } else if (newpassword !== confirm_password) {\r\n      setErrorMessage('The two passwords are not the same');\r\n      setOpen(true);\r\n      setNewPassword('');\r\n      setConfirmPassword('');\r\n    }\r\n\r\n    else {\r\n      const user = {\r\n        new_password: confirm_password,\r\n        user_id: id\r\n      }\r\n      const data = await apiCall('update_password', 'PUT', user, navigate);\r\n      if (typeof (data) === 'string' && (!data.startsWith('200') || !data.startsWith('201'))) {\r\n        setErrorMessage(data.slice(3,));\r\n        setOpen(true);\r\n        setNewPassword('');\r\n        setConfirmPassword('');\r\n      } else {\r\n        setOpen2(true);\r\n        setNewPassword('');\r\n        setConfirmPassword('');\r\n        navigate('/student_profile');\r\n      }\r\n    }\r\n  }\r\n\r\n  // When update the profile, the name, password value format will be checked.\r\n  const update = async () => {\r\n    // eslint-disable-next-line prefer-regex-literals\r\n    const nameReg = new RegExp(/^[0-9A-Za-z]+ [0-9A-Za-z]+/);\r\n    if (name.length <= 3) {\r\n      setErrorMessage('Your name should have at least 3 characters');\r\n      setOpen(true);\r\n      getUserInfo();\r\n    } else if (!(nameReg.test(name))) {\r\n      setErrorMessage('The format of your name should be: \"Firstname LastName\"');\r\n      setOpen(true);\r\n      getUserInfo();\r\n    }\r\n    else {\r\n      const user = {\r\n        biography: biography,\r\n        interested_category_ids: interestedCategoryIds,\r\n        profile_image_src: profileImageSrc,\r\n        username: name,\r\n        language_ids: languageIds\r\n      }\r\n      const data = await apiCall('user_profile', 'PUT', user, navigate);\r\n      if (typeof (data) === 'string' && (!data.startsWith('200') || !data.startsWith('201'))) {\r\n        setErrorMessage(data.slice(3, data.length));\r\n        setOpen(true);\r\n      }\r\n      else {\r\n        setOpen2(true);\r\n        navigate('/student_profile');\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{ backgroundSize: '100% 100%' }}>\r\n      <StudentHeader />\r\n      <ErrorSnackbar open={open} setOpen={setOpen} message={errorMessage} />\r\n      <SuccessSnackbar open={open2} setOpen={setOpen2} message={'You have successfully update your profile'}></SuccessSnackbar>\r\n      <Container disableGutters maxWidth=\"lg\" component=\"main\" sx={{ pt: 8, pb: 6 }}>\r\n        <div style={{ display: 'flex', width: '100%', backgroundColor: '#ffffff', borderRadius: '10px', borderTop: '1px solid rgba(255, 255, 255, 0.15)', backdropFilter: 'blur(30px)', boxShadow: '0 15px 25px rgba(0,0,0,0.1)', marginBottom: '10px' }}>\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              margin: 'auto',\r\n              flex: 2,\r\n              paddingTop: '40px',\r\n              paddingBottom: '40px',\r\n              borderRight: '1.5px solid rgb(230, 230, 230)'\r\n\r\n            }}\r\n          >\r\n            <Box sx={{ width: '35%', marginBottom: '15px' }}>\r\n              <ImageButton profileImageSrc={profileImageSrc} setProfileImageSrc={setProfileImageSrc} name={name} update={update} />\r\n            </Box>\r\n            <Box component=\"form\" noValidate sx={{ mt: 2, width: '60%' }}>\r\n              <div style={{ marginRight: '5%', paddingRight: '5%' }}>\r\n\r\n                <Box sx={{ width: '100%', display: 'flex', alignItems: 'flex-end', marginBottom: '15px' }}>\r\n                  <Grid container spacing={0}>\r\n                    <Grid item xs={3}>\r\n                      <Typography component=\"h1\" variant=\"h5\">\r\n                        Name:\r\n                      </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={9}>\r\n                      <TextField\r\n                        label=\"Enter Name Here\"\r\n                        fullWidth\r\n                        variant=\"standard\"\r\n                        size=\"medium\"\r\n                        onChange={e => setName(e.target.value)}\r\n                        value={name} />\r\n                    </Grid>\r\n                  </Grid>\r\n                </Box>\r\n                <Box sx={{ display: 'flex', alignItems: 'flex-end', marginBottom: '15px' }}>\r\n                  <Grid container spacing={0}>\r\n                    <Grid item xs={3}>\r\n                      <Typography component=\"h1\" variant=\"h5\">\r\n                        Email:\r\n                      </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={9}>\r\n                      <Typography component=\"h6\" variant=\"h6\">\r\n                        {email}\r\n                      </Typography>\r\n\r\n                    </Grid>\r\n                  </Grid>\r\n                </Box>\r\n                <LanguageChoice languageIds={languageIds} setLanguageIds={setLanguageIds} />\r\n                <ColorButton\r\n                  fullWidth\r\n                  id=\"submit_Login\"\r\n                  variant=\"contained\"\r\n                  sx={{ mt: 3, mb: 2, color: 'white' }}\r\n                  onClick={update}\r\n                >\r\n                  UPDATE\r\n                </ColorButton>\r\n              </div>\r\n            </Box>\r\n          </Box>\r\n\r\n          <Box\r\n            sx={{\r\n              paddingLeft: '40px',\r\n              paddingRight: '40px',\r\n              paddingTop: '80px',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              verticalAlign: 'middle',\r\n              flex: 1,\r\n              backgroundColor: 'rgb(240,240,240)',\r\n              borderRadius: '0px 10px 10px 0px'\r\n            }}\r\n          >\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Change Password\r\n            </Typography>\r\n            <div style={{ alignItems: 'center', flexDirection: 'column' }}>\r\n\r\n              <Box component=\"form\" noValidate sx={{ mt: 1 }}>\r\n\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  fullWidth\r\n                  id=\"newPassword\"\r\n                  label=\"new password\"\r\n                  name=\"new password\"\r\n                  autoComplete=\"new password\"\r\n                  value={newpassword}\r\n                  onChange={e => setNewPassword(e.target.value)}\r\n                />\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  fullWidth\r\n                  id=\"newPasswordConfirm\"\r\n                  label=\"re-enter new password\"\r\n                  name=\"re-enter new password\"\r\n                  autoComplete=\"new password\"\r\n                  value={confirm_password}\r\n                  onChange={e => setConfirmPassword(e.target.value)}\r\n                />\r\n                <ColorButton\r\n                  fullWidth\r\n                  id=\"submit_Login\"\r\n                  variant=\"contained\"\r\n                  sx={{ mt: 3, mb: 2, color: 'white' }}\r\n                  onClick={changePassword}\r\n                >\r\n                  CONFIRM\r\n                </ColorButton>\r\n              </Box>\r\n            </div>\r\n          </Box>\r\n        </div>\r\n        <div style={{ display: 'flex', justifyContent: 'flex-end', alignItems: 'flex-end', marginTop: '40px' }}>\r\n          <Button size=\"large\" sx={{ backgroundColor: '#000000', color: 'white' }} onClick={(event) => { navigate('/student_main') }} endIcon={<KeyboardReturnOutlinedIcon size=\"large\" />} >Return</Button>\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n}"],"mappings":";;;;+CACA,oJ;;AADA;;AACA;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AACA,OAAOC,0BAAP,MAAuC,qCAAvC;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,OAAOC,WAAP,MAAwB,0BAAxB,C,CAEA;;AACA,IAAMC,WAAW,GAAGH,MAAM,CAACN,MAAD,CAAN,CAAe;EAAA,IAAGU,KAAH,QAAGA,KAAH;EAAA,OAAgB;IACjDC,KAAK,EAAED,KAAK,CAACE,OAAN,CAAcC,eAAd,CAA8B,SAA9B,CAD0C;IAEjDC,eAAe,EAAE,SAFgC;IAGjD,WAAW;MACTA,eAAe,EAAE;IADR;EAHsC,CAAhB;AAAA,CAAf,CAApB;AAQA,eAAe,SAASC,cAAT,GAA0B;EACvC,IAAMC,QAAQ,GAAGnB,WAAW,EAA5B;;EADuC,sBAGfJ,KAAK,CAACwB,QAAN,CAAe,OAAf,CAHe;EAAA;EAAA,IAGhCC,IAHgC;EAAA,IAG1BC,OAH0B;;EAAA,uBAIb1B,KAAK,CAACwB,QAAN,CAAe,EAAf,CAJa;EAAA;EAAA,IAIhCG,KAJgC;EAAA,IAIzBC,QAJyB;;EAAA,uBAKL5B,KAAK,CAACwB,QAAN,CAAe,EAAf,CALK;EAAA;EAAA,IAKhCK,SALgC;EAAA,IAKrBC,YALqB;;EAAA,uBAMiB9B,KAAK,CAACwB,QAAN,CAAe,EAAf,CANjB;EAAA;EAAA,IAMhCO,qBANgC;EAAA,IAMTC,sBANS;;EAAA,uBAODhC,KAAK,CAACwB,QAAN,CAAe,EAAf,CAPC;EAAA;EAAA,IAOhCS,WAPgC;EAAA,IAOnBC,cAPmB;;EAAA,wBAQOlC,KAAK,CAACwB,QAAN,CAAe,EAAf,CARP;EAAA;EAAA,IAQhCW,eARgC;EAAA,IAQfC,kBARe;;EAAA,wBASDpC,KAAK,CAACwB,QAAN,CAAe,EAAf,CATC;EAAA;EAAA,IAShCa,WATgC;EAAA,IASnBC,cATmB;;EAAA,wBAUQtC,KAAK,CAACwB,QAAN,CAAe,EAAf,CAVR;EAAA;EAAA,IAUhCe,gBAVgC;EAAA,IAUdC,kBAVc;;EAAA,wBAWfxC,KAAK,CAACwB,QAAN,CAAe,KAAf,CAXe;EAAA;EAAA,IAWhCiB,IAXgC;EAAA,IAW1BC,OAX0B;;EAAA,wBAYC1C,KAAK,CAACwB,QAAN,CAAe,EAAf,CAZD;EAAA;EAAA,IAYhCmB,YAZgC;EAAA,IAYlBC,eAZkB;;EAAA,wBAab5C,KAAK,CAACwB,QAAN,CAAe,KAAf,CAba;EAAA;EAAA,IAahCqB,KAbgC;EAAA,IAazBC,QAbyB;;EAevC9C,KAAK,CAAC+C,SAAN,CAAgB,YAAM;IACpBC,WAAW;EACZ,CAFD,EAEG,EAFH,EAfuC,CAmBvC;EACA;;EACA,SAASC,KAAT,CAAehB,WAAf,EAA4B;IAC1B,IAAIiB,GAAG,GAAG,EAAV;IACAjB,WAAW,CAACkB,GAAZ,CAAgB,UAACC,UAAD,EAAgB;MAC9BF,GAAG,CAACG,IAAJ,CAASD,UAAU,CAACE,EAApB;IACD,CAFD;IAGA,OAAOJ,GAAP;EACD,CA3BsC,CA6BvC;;;EACA,IAAMF,WAAW;IAAA,uEAAG;MAAA;MAAA;QAAA;UAAA;YAAA;cACZM,EADY,GACPC,YAAY,CAACC,OAAb,CAAqB,IAArB,CADO;cAAA;cAAA,OAEC/C,OAAO,yBAAkB6C,EAAlB,GAAwB,KAAxB,EAA+B,EAA/B,EAAmC/B,QAAnC,CAFR;;YAAA;cAEZkC,IAFY;cAGlBC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,IAArB;;cACA,IAAI,OAAQA,IAAR,KAAkB,QAAlB,KAA+B,CAACA,IAAI,CAACG,UAAL,CAAgB,KAAhB,CAAD,IAA2B,CAACH,IAAI,CAACG,UAAL,CAAgB,KAAhB,CAA3D,CAAJ,EAAwF;gBACtFhB,eAAe,CAACa,IAAI,CAACI,KAAL,CAAW,CAAX,CAAD,CAAf;gBACAnB,OAAO,CAAC,IAAD,CAAP;cACD,CAHD,MAGO;gBACLhB,OAAO,CAAC+B,IAAI,CAACK,IAAL,CAAUC,QAAX,CAAP;gBACAnC,QAAQ,CAAC6B,IAAI,CAACK,IAAL,CAAUnC,KAAX,CAAR;gBACAG,YAAY,CAAC2B,IAAI,CAACK,IAAL,CAAUjC,SAAX,CAAZ;gBACMqB,GAJD,GAIOD,KAAK,CAACQ,IAAI,CAACK,IAAL,CAAUE,SAAX,CAJZ;gBAKL9B,cAAc,CAACgB,GAAD,CAAd;gBACAlB,sBAAsB,CAACyB,IAAI,CAACK,IAAL,CAAUG,qBAAX,CAAtB;gBACA7B,kBAAkB,CAACqB,IAAI,CAACK,IAAL,CAAUI,iBAAX,CAAlB;cACD;;YAfiB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAXlB,WAAW;MAAA;IAAA;EAAA,GAAjB,CA9BuC,CAgDvC;EACA;;;EACA,IAAMmB,cAAc;IAAA,uEAAG;MAAA;MAAA;QAAA;UAAA;YAAA;cACfb,EADe,GACVC,YAAY,CAACC,OAAb,CAAqB,IAArB,CADU;;cAAA,MAEjBnB,WAAW,KAAK,EAAhB,IAAsBE,gBAAgB,KAAK,GAF1B;gBAAA;gBAAA;cAAA;;cAGnBK,eAAe,CAAC,6BAAD,CAAf;cACAF,OAAO,CAAC,IAAD,CAAP;cACAJ,cAAc,CAAC,EAAD,CAAd;cACAE,kBAAkB,CAAC,EAAD,CAAlB;cANmB;cAAA;;YAAA;cAAA,MAOVH,WAAW,KAAKE,gBAPN;gBAAA;gBAAA;cAAA;;cAQnBK,eAAe,CAAC,oCAAD,CAAf;cACAF,OAAO,CAAC,IAAD,CAAP;cACAJ,cAAc,CAAC,EAAD,CAAd;cACAE,kBAAkB,CAAC,EAAD,CAAlB;cAXmB;cAAA;;YAAA;cAebsB,IAfa,GAeN;gBACXM,YAAY,EAAE7B,gBADH;gBAEX8B,OAAO,EAAEf;cAFE,CAfM;cAAA;cAAA,OAmBA7C,OAAO,CAAC,iBAAD,EAAoB,KAApB,EAA2BqD,IAA3B,EAAiCvC,QAAjC,CAnBP;;YAAA;cAmBbkC,IAnBa;;cAoBnB,IAAI,OAAQA,IAAR,KAAkB,QAAlB,KAA+B,CAACA,IAAI,CAACG,UAAL,CAAgB,KAAhB,CAAD,IAA2B,CAACH,IAAI,CAACG,UAAL,CAAgB,KAAhB,CAA3D,CAAJ,EAAwF;gBACtFhB,eAAe,CAACa,IAAI,CAACI,KAAL,CAAW,CAAX,CAAD,CAAf;gBACAnB,OAAO,CAAC,IAAD,CAAP;gBACAJ,cAAc,CAAC,EAAD,CAAd;gBACAE,kBAAkB,CAAC,EAAD,CAAlB;cACD,CALD,MAKO;gBACLM,QAAQ,CAAC,IAAD,CAAR;gBACAR,cAAc,CAAC,EAAD,CAAd;gBACAE,kBAAkB,CAAC,EAAD,CAAlB;gBACAjB,QAAQ,CAAC,kBAAD,CAAR;cACD;;YA9BkB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAd4C,cAAc;MAAA;IAAA;EAAA,GAApB,CAlDuC,CAoFvC;;;EACA,IAAMG,MAAM;IAAA,uEAAG;MAAA;MAAA;QAAA;UAAA;YAAA;cACb;cACMC,OAFO,GAEG,IAAIC,MAAJ,CAAW,4BAAX,CAFH;;cAAA,MAGT/C,IAAI,CAACgD,MAAL,IAAe,CAHN;gBAAA;gBAAA;cAAA;;cAIX7B,eAAe,CAAC,6CAAD,CAAf;cACAF,OAAO,CAAC,IAAD,CAAP;cACAM,WAAW;cANA;cAAA;;YAAA;cAAA,IAOAuB,OAAO,CAACG,IAAR,CAAajD,IAAb,CAPA;gBAAA;gBAAA;cAAA;;cAQXmB,eAAe,CAAC,yDAAD,CAAf;cACAF,OAAO,CAAC,IAAD,CAAP;cACAM,WAAW;cAVA;cAAA;;YAAA;cAaLc,IAbK,GAaE;gBACXjC,SAAS,EAAEA,SADA;gBAEX8C,uBAAuB,EAAE5C,qBAFd;gBAGXmC,iBAAiB,EAAE/B,eAHR;gBAIX4B,QAAQ,EAAEtC,IAJC;gBAKXmD,YAAY,EAAE3C;cALH,CAbF;cAAA;cAAA,OAoBQxB,OAAO,CAAC,cAAD,EAAiB,KAAjB,EAAwBqD,IAAxB,EAA8BvC,QAA9B,CApBf;;YAAA;cAoBLkC,IApBK;;cAqBX,IAAI,OAAQA,IAAR,KAAkB,QAAlB,KAA+B,CAACA,IAAI,CAACG,UAAL,CAAgB,KAAhB,CAAD,IAA2B,CAACH,IAAI,CAACG,UAAL,CAAgB,KAAhB,CAA3D,CAAJ,EAAwF;gBACtFhB,eAAe,CAACa,IAAI,CAACI,KAAL,CAAW,CAAX,EAAcJ,IAAI,CAACgB,MAAnB,CAAD,CAAf;gBACA/B,OAAO,CAAC,IAAD,CAAP;cACD,CAHD,MAIK;gBACHI,QAAQ,CAAC,IAAD,CAAR;gBACAvB,QAAQ,CAAC,kBAAD,CAAR;cACD;;YA5BU;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAN+C,MAAM;MAAA;IAAA;EAAA,GAAZ;;EAgCA,oBACE;IAAK,KAAK,EAAE;MAAEO,cAAc,EAAE;IAAlB,CAAZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,aAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,eAEE,oBAAC,aAAD;IAAe,IAAI,EAAEpC,IAArB;IAA2B,OAAO,EAAEC,OAApC;IAA6C,OAAO,EAAEC,YAAtD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFF,eAGE,oBAAC,eAAD;IAAiB,IAAI,EAAEE,KAAvB;IAA8B,OAAO,EAAEC,QAAvC;IAAiD,OAAO,EAAE,2CAA1D;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAHF,eAIE,oBAAC,SAAD;IAAW,cAAc,MAAzB;IAA0B,QAAQ,EAAC,IAAnC;IAAwC,SAAS,EAAC,MAAlD;IAAyD,EAAE,EAAE;MAAEgC,EAAE,EAAE,CAAN;MAASC,EAAE,EAAE;IAAb,CAA7D;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAX;MAAmBC,KAAK,EAAE,MAA1B;MAAkC5D,eAAe,EAAE,SAAnD;MAA8D6D,YAAY,EAAE,MAA5E;MAAoFC,SAAS,EAAE,qCAA/F;MAAsIC,cAAc,EAAE,YAAtJ;MAAoKC,SAAS,EAAE,6BAA/K;MAA8MC,YAAY,EAAE;IAA5N,CAAZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,GAAD;IACE,EAAE,EAAE;MACFN,OAAO,EAAE,MADP;MAEFO,aAAa,EAAE,QAFb;MAGFC,UAAU,EAAE,QAHV;MAIFC,MAAM,EAAE,MAJN;MAKFC,IAAI,EAAE,CALJ;MAMFC,UAAU,EAAE,MANV;MAOFC,aAAa,EAAE,MAPb;MAQFC,WAAW,EAAE;IARX,CADN;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAaE,oBAAC,GAAD;IAAK,EAAE,EAAE;MAAEZ,KAAK,EAAE,KAAT;MAAgBK,YAAY,EAAE;IAA9B,CAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,WAAD;IAAa,eAAe,EAAEnD,eAA9B;IAA+C,kBAAkB,EAAEC,kBAAnE;IAAuF,IAAI,EAAEX,IAA7F;IAAmG,MAAM,EAAE6C,MAA3G;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CAbF,eAgBE,oBAAC,GAAD;IAAK,SAAS,EAAC,MAAf;IAAsB,UAAU,MAAhC;IAAiC,EAAE,EAAE;MAAEwB,EAAE,EAAE,CAAN;MAASb,KAAK,EAAE;IAAhB,CAArC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,KAAK,EAAE;MAAEc,WAAW,EAAE,IAAf;MAAqBC,YAAY,EAAE;IAAnC,CAAZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAEE,oBAAC,GAAD;IAAK,EAAE,EAAE;MAAEf,KAAK,EAAE,MAAT;MAAiBD,OAAO,EAAE,MAA1B;MAAkCQ,UAAU,EAAE,UAA9C;MAA0DF,YAAY,EAAE;IAAxE,CAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,IAAD;IAAM,SAAS,MAAf;IAAgB,OAAO,EAAE,CAAzB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,IAAD;IAAM,IAAI,MAAV;IAAW,EAAE,EAAE,CAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,UAAD;IAAY,SAAS,EAAC,IAAtB;IAA2B,OAAO,EAAC,IAAnC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,WADF,CADF,eAME,oBAAC,IAAD;IAAM,IAAI,MAAV;IAAW,EAAE,EAAE,CAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,SAAD;IACE,KAAK,EAAC,iBADR;IAEE,SAAS,MAFX;IAGE,OAAO,EAAC,UAHV;IAIE,IAAI,EAAC,QAJP;IAKE,QAAQ,EAAE,kBAAAW,CAAC;MAAA,OAAIvE,OAAO,CAACuE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;IAAA,CALb;IAME,KAAK,EAAE1E,IANT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CANF,CADF,CAFF,eAoBE,oBAAC,GAAD;IAAK,EAAE,EAAE;MAAEuD,OAAO,EAAE,MAAX;MAAmBQ,UAAU,EAAE,UAA/B;MAA2CF,YAAY,EAAE;IAAzD,CAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,IAAD;IAAM,SAAS,MAAf;IAAgB,OAAO,EAAE,CAAzB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,IAAD;IAAM,IAAI,MAAV;IAAW,EAAE,EAAE,CAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,UAAD;IAAY,SAAS,EAAC,IAAtB;IAA2B,OAAO,EAAC,IAAnC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,YADF,CADF,eAME,oBAAC,IAAD;IAAM,IAAI,MAAV;IAAW,EAAE,EAAE,CAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,UAAD;IAAY,SAAS,EAAC,IAAtB;IAA2B,OAAO,EAAC,IAAnC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACG3D,KADH,CADF,CANF,CADF,CApBF,eAmCE,oBAAC,cAAD;IAAgB,WAAW,EAAEM,WAA7B;IAA0C,cAAc,EAAEC,cAA1D;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAnCF,eAoCE,oBAAC,WAAD;IACE,SAAS,MADX;IAEE,EAAE,EAAC,cAFL;IAGE,OAAO,EAAC,WAHV;IAIE,EAAE,EAAE;MAAE4D,EAAE,EAAE,CAAN;MAASM,EAAE,EAAE,CAAb;MAAgBlF,KAAK,EAAE;IAAvB,CAJN;IAKE,OAAO,EAAEoD,MALX;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,YApCF,CADF,CAhBF,CADF,eAmEE,oBAAC,GAAD;IACE,EAAE,EAAE;MACF+B,WAAW,EAAE,MADX;MAEFL,YAAY,EAAE,MAFZ;MAGFL,UAAU,EAAE,MAHV;MAIFX,OAAO,EAAE,MAJP;MAKFO,aAAa,EAAE,QALb;MAMFC,UAAU,EAAE,QANV;MAOFc,aAAa,EAAE,QAPb;MAQFZ,IAAI,EAAE,CARJ;MASFrE,eAAe,EAAE,kBATf;MAUF6D,YAAY,EAAE;IAVZ,CADN;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAcE,oBAAC,UAAD;IAAY,SAAS,EAAC,IAAtB;IAA2B,OAAO,EAAC,IAAnC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,qBAdF,eAiBE;IAAK,KAAK,EAAE;MAAEM,UAAU,EAAE,QAAd;MAAwBD,aAAa,EAAE;IAAvC,CAAZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAEE,oBAAC,GAAD;IAAK,SAAS,EAAC,MAAf;IAAsB,UAAU,MAAhC;IAAiC,EAAE,EAAE;MAAEO,EAAE,EAAE;IAAN,CAArC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAEE,oBAAC,SAAD;IACE,MAAM,EAAC,QADT;IAEE,SAAS,MAFX;IAGE,EAAE,EAAC,aAHL;IAIE,KAAK,EAAC,cAJR;IAKE,IAAI,EAAC,cALP;IAME,YAAY,EAAC,cANf;IAOE,KAAK,EAAEzD,WAPT;IAQE,QAAQ,EAAE,kBAAA4D,CAAC;MAAA,OAAI3D,cAAc,CAAC2D,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB;IAAA,CARb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFF,eAYE,oBAAC,SAAD;IACE,MAAM,EAAC,QADT;IAEE,SAAS,MAFX;IAGE,EAAE,EAAC,oBAHL;IAIE,KAAK,EAAC,uBAJR;IAKE,IAAI,EAAC,uBALP;IAME,YAAY,EAAC,cANf;IAOE,KAAK,EAAE5D,gBAPT;IAQE,QAAQ,EAAE,kBAAA0D,CAAC;MAAA,OAAIzD,kBAAkB,CAACyD,CAAC,CAACC,MAAF,CAASC,KAAV,CAAtB;IAAA,CARb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAZF,eAsBE,oBAAC,WAAD;IACE,SAAS,MADX;IAEE,EAAE,EAAC,cAFL;IAGE,OAAO,EAAC,WAHV;IAIE,EAAE,EAAE;MAAEL,EAAE,EAAE,CAAN;MAASM,EAAE,EAAE,CAAb;MAAgBlF,KAAK,EAAE;IAAvB,CAJN;IAKE,OAAO,EAAEiD,cALX;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,aAtBF,CAFF,CAjBF,CAnEF,CADF,eA0HE;IAAK,KAAK,EAAE;MAAEa,OAAO,EAAE,MAAX;MAAmBuB,cAAc,EAAE,UAAnC;MAA+Cf,UAAU,EAAE,UAA3D;MAAuEgB,SAAS,EAAE;IAAlF,CAAZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,MAAD;IAAQ,IAAI,EAAC,OAAb;IAAqB,EAAE,EAAE;MAAEnF,eAAe,EAAE,SAAnB;MAA8BH,KAAK,EAAE;IAArC,CAAzB;IAAyE,OAAO,EAAE,iBAACuF,KAAD,EAAW;MAAElF,QAAQ,CAAC,eAAD,CAAR;IAA2B,CAA1H;IAA4H,OAAO,eAAE,oBAAC,0BAAD;MAA4B,IAAI,EAAC,OAAjC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAArI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,YADF,CA1HF,CAJF,CADF;AAqID"},"metadata":{},"sourceType":"module"}